<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="hu"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>jatekablak.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">kavics</a> &gt; <a href="index.source.html" class="el_package">kavicsos_jatek.kavics</a> &gt; <span class="el_source">jatekablak.java</span></div><h1>jatekablak.java</h1><pre class="source lang-java linenums">package kavicsos_jatek.kavics;

import java.util.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.text.*;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import java.io.File;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * Ez az osztály felel a játéktábla megjelenítéséért.
 *  
 * @see kavicsos_jatek.kavics
 */
public class jatekablak implements KeyListener, MouseListener {
	/**
	 * Segítségével megvizsgáljuk a képernyő méretét.
	 */
<span class="nc" id="L30">	Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();</span>
	/**
	 * Grafikus felület kirajzolásához használjuk.
	 */
<span class="nc" id="L34">	Drawing draw = new Drawing();</span>
	/**
	 * Ablak címsorának elnevezésére használjuk.
	 */
<span class="nc" id="L38">	JFrame jatek = new JFrame(&quot;4x4 kavics játék - játékterep&quot;);</span>
	/**
	 * A fajl megmutatja, hogy az XML fájl, melyben az adatok tárolásra kerülnek, létezik-e?
	 */
	static boolean fajl;
	/**
	 * x,y változókat ciklusokhoz használjuk fel.
	 * sor, oszlop, sor2, oszlop2, sor3, oszlop3 változókat a szomszédos sorok eltárolására használjuk egy-egy kör során.
	 */
<span class="nc" id="L47">	int x, y, szamlalo=0, sor, oszlop, sor2, oszlop2, sor3, oszlop3;</span>
	/**
	 * A tömb játéktábla mezőinek eltárolására szolgál (4x4).
	 */
<span class="nc" id="L51">	int[][] board = new int[4][4];</span>
	/**
	 * Ezen változót segítségével tartjuk számon, hogy éppen melyik játékos következik. Kezdőértéke 1, mely az elő játékos.
	 */
<span class="nc" id="L55">	int xTurn = (1);</span>
	/**
	 * Üzenet megjelenítésére szolgál a játékosok számára.
	 */
<span class="nc" id="L59">	JLabel message = new JLabel(&quot;1. játékos lép - zöld&quot;);</span>
	/**
	 * Ez a tömb a változó képek eltárolására szolgál.
	 */
<span class="nc" id="L63">	ImageIcon[] boardPictures = new ImageIcon[3];</span>
	/**
	 * Üzenet megjelenítését szolgálja a játék végén.
	 */
	String uzenet;
	/**
	 * Az XML dokumentumban a nyertes játékos eltárolására szolgál.
	 */
	static String nyertes;
	/**
	 * Az XML dokumentumban a mérkőzés befejezésének dátumát tárolja el.
	 */
	static String pontosdatum;
	/**
	 * Az XML fájlra ezen változó segítségével hivatkozunk.
	 */
<span class="nc" id="L79">	static File fjl = null;</span>

	/**
	 * Ablak megjelenítését szolgálja.
	 *  
	 * @see kavicsos_jatek.kavics
	 */
	
	static int mezok;
	
<span class="nc" id="L89">	public jatekablak() </span>
	{
<span class="nc bnc" id="L91" title="All 2 branches missed.">		for (int i = 0; i &lt; boardPictures.length; i++)</span>
<span class="nc" id="L92">			boardPictures[i] = new ImageIcon(getClass().getClassLoader().getResource(i + &quot;.jpg&quot;));</span>
<span class="nc" id="L93">		jatek.add(draw);</span>
<span class="nc" id="L94">		jatek.addKeyListener(this);</span>
<span class="nc" id="L95">		jatek.addMouseListener(this);</span>
<span class="nc" id="L96">		jatek.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="nc" id="L97">		jatek.setSize(800, 600);</span>
<span class="nc" id="L98">		jatek.setLocation(dim.width/2-jatek.getSize().width/2, dim.height/2-jatek.getSize().height/2);</span>
<span class="nc" id="L99">		message.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));</span>
<span class="nc" id="L100">		message.setForeground(Color.blue);</span>
<span class="nc" id="L101">		message.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L102">		jatek.add(message, &quot;South&quot;);</span>
<span class="nc" id="L103">		jatek.setVisible(true);</span>
<span class="nc" id="L104">	}</span>
	
	/**
	 * Naplózási metódus
	 */
<span class="nc" id="L109">	private static final Logger logger = LoggerFactory.getLogger(jatekablak.class);</span>

	/**
	 * Ezen logikai változó segítségével vizsgáljuk meg, hogy üres-e a tábla, azaz nincs már rajta egy kavics sem.
	 *  
	 * @return A tábla üres, azaz nincs rajta egy kavics sem.
	 */
	public boolean fullBoard() 
	{
		/**
		* Ezen változó segítségével tartjuk számon, hogy hány mezőn nincs már kavics, azaz hány mező üres.
		*/
<span class="nc" id="L121">		int countBlank = 0;</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">		for (int r = 0; r &lt; 4; r++) {</span>
<span class="nc bnc" id="L123" title="All 2 branches missed.">			for (int col = 0; col &lt; 4; col++) {</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">				if (board[r][col] == 0)</span>
<span class="nc" id="L125">					countBlank++;</span>
			}
		}
<span class="nc bnc" id="L128" title="All 2 branches missed.">		return (countBlank == 0);</span>
	}
	
	/**
	 * Megszámolja, hogy a táblánk valóban 4x4 mezőből áll
	 * @return Mezők darabszáma
	 */
	int mezok_ellenorzese() 
	{
		/**
		* Ezen változó segítségével tartjuk számon, hogy hány mezőt számoltunk már meg.
		*/
<span class="nc" id="L140">		mezok = 0;</span>
<span class="nc bnc" id="L141" title="All 2 branches missed.">		for (int r = 0; r &lt; 4; r++) {</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">			for (int col = 0; col &lt; 4; col++) {</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">				if (board[r][col] == 1)</span>
<span class="nc" id="L144">					mezok++;</span>
			}
		}
<span class="nc" id="L147">		return (mezok);</span>
	}
	
	/**
	 * Az XML fájlkezelésre szolgál.
	 * Ha az XML fájl nem létezik, akkor létrehoz egyet és beleírja a legutóbbi eredményt.
	 * Ha létezik az XML fájl, akkor hozzáfűzi a legutóbbi eredményt a fájlhoz.
	 */
	public void fajlkezeles() {
<span class="nc" id="L156">		fjl = new File(getClass().getClassLoader().getResource(&quot;ered.xml&quot;).getFile());</span>
<span class="nc" id="L157">		fajl = fjl.exists();</span>
<span class="nc bnc" id="L158" title="All 2 branches missed.">		if (!fajl)</span>
		{
<span class="nc" id="L160">        DocumentBuilderFactory icFactory = DocumentBuilderFactory.newInstance();</span>
        DocumentBuilder icBuilder;
        try {
<span class="nc" id="L163">            icBuilder = icFactory.newDocumentBuilder();</span>
<span class="nc" id="L164">            Document doc = icBuilder.newDocument();</span>
<span class="nc" id="L165">            Element mainRootElement = doc.createElement(&quot;Mérkőzések&quot;);</span>
<span class="nc" id="L166">            doc.appendChild(mainRootElement);</span>
 
<span class="nc" id="L168">            mainRootElement.appendChild(jatszmak(doc, nyertes, pontosdatum));</span>
 
<span class="nc" id="L170">            Transformer transformer = TransformerFactory.newInstance().newTransformer();</span>
<span class="nc" id="L171">            DOMSource source = new DOMSource(doc);</span>
<span class="nc" id="L172">            StreamResult result = new StreamResult(new File(getClass().getClassLoader().getResource(&quot;ered.xml&quot;).getFile()));</span>
<span class="nc" id="L173">            transformer.transform(source, result);</span>
 
<span class="nc" id="L175">            logger.info(&quot;XML fájl létrehozva.&quot;);</span>
 
<span class="nc" id="L177">        	} 	</span>
<span class="nc" id="L178">        	catch (Exception e) {</span>
<span class="nc" id="L179">            e.printStackTrace();</span>
        	}
<span class="nc" id="L181">		}</span>
		else
		{
			
			try {
<span class="nc" id="L186">			DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();</span>
<span class="nc" id="L187">			DocumentBuilder docBuilder = docFactory.newDocumentBuilder();</span>
<span class="nc" id="L188">			Document doc = docBuilder.parse(fjl);</span>
<span class="nc" id="L189">			Element root = doc.getDocumentElement();</span>

<span class="nc" id="L191">            root.appendChild(jatszmak(doc, nyertes, pontosdatum));</span>

<span class="nc" id="L193">            TransformerFactory transformerFactory = TransformerFactory.newInstance();</span>
<span class="nc" id="L194">            Transformer transformer = transformerFactory.newTransformer();</span>
<span class="nc" id="L195">            DOMSource source = new DOMSource(doc);</span>
<span class="nc" id="L196">            StreamResult result = new StreamResult(new File(getClass().getClassLoader().getResource(&quot;ered.xml&quot;).getFile()));</span>
<span class="nc" id="L197">            transformer.transform(source, result);</span>
            
<span class="nc" id="L199">            logger.info(&quot;XML fájl sikeresen módosítva.&quot;);</span>
            
<span class="nc" id="L201">			}</span>
<span class="nc" id="L202">			catch (Exception e) {</span>
<span class="nc" id="L203">	        e.printStackTrace();</span>
	        }
		}
<span class="nc" id="L206">    }</span>
 
	/**
	 * 
	 * @param doc Az XML dokumentum.
	 * @param name Nyertes eltárolására szolgál.
	 * @param date A játék befejezésének pontos ideje.
	 * @return Játszma tag és a benne lévő nyertes neve és a játszma ideje.
	 */
    private static Node jatszmak(Document doc, String name, String date) {
<span class="nc" id="L216">        Element jatszma = doc.createElement(&quot;Játszma&quot;);</span>
<span class="nc" id="L217">        jatszma.appendChild(jatszmaelem(doc, jatszma, &quot;Nyertes&quot;, name));</span>
<span class="nc" id="L218">        jatszma.appendChild(jatszmaelem(doc, jatszma, &quot;Dátum&quot;, date));</span>
<span class="nc" id="L219">        return jatszma;</span>
    }
    
    /**
     * 
     * @param doc Az XML dokumentum.
     * @param element Az XML dokumentum adott eleme.
     * @param name Elemnév.
     * @param value Érték hozzáadása az adott elemhez.
     * @return Játszam elemei.
     */
 
    private static Node jatszmaelem(Document doc, Element element, String name, String value) {
<span class="nc" id="L232">        Element node = doc.createElement(name);</span>
<span class="nc" id="L233">        node.appendChild(doc.createTextNode(value));</span>
<span class="nc" id="L234">        return node;</span>
    }
    
    /**
     * A mérkőzés befejezésének ideje.
     */
    public void datum()
    {
<span class="nc" id="L242">		Date dNow = new Date( );</span>
<span class="nc" id="L243">		SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy.MM.dd. HH:mm:ss&quot;);</span>
<span class="nc" id="L244">		pontosdatum = ft.format(dNow);</span>
<span class="nc" id="L245">    }</span>
    
    /**
     * A játék vége térése utáni feladatok elvégzésére szolgál.
     * Megadja a nyertes nevét, a befejezés dátumát.
     * Elindítja a fájlkezelést.
     * Felugró ablakban közli a játék végét.
     * Bezárja a játékteret és visszairányít a kezdőképernyőre.
     */
	
	public void jatekvege()
	{
<span class="nc" id="L257">		datum();</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">		if (xTurn == (1)) {uzenet = &quot;2. játékos (piros) nyert! Eredmények elmentve.&quot;; nyertes =&quot;2. játékos (piros)&quot;;}</span>
<span class="nc bnc" id="L259" title="All 2 branches missed.">		if (xTurn == (-1)) {uzenet = &quot;1. játékos (zöld) nyert! Eredmények elmentve.&quot;; nyertes =&quot;1. játékos (zöld)&quot;;}</span>
<span class="nc" id="L260">		fajlkezeles();</span>
<span class="nc" id="L261">		JOptionPane.showMessageDialog(null, uzenet , &quot;Eredmény&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L262">		jatek.dispose();</span>
<span class="nc" id="L263">		new kezdokepernyo();</span>
<span class="nc" id="L264">	}</span>
	
	/**
	 * Az első játékos egy körét kezeli.
	 * Véget ér, ha a maximális 4 lépést eléri vagy SPACE gombbal nem történik váltás.
	 * Körben minden lépés után vizsgáljuk, hogy a táblán van-e még kavics.
	 * Figyelünk arra, hogy egy körben csak a mellette lévő kavicsot lehet levenni.
	 * @param row A tábla mezői.
	 * @param col A tábla sorai.
	 */
	public void elso (int row, int col) {
		
<span class="nc bnc" id="L276" title="All 4 branches missed.">			if ((board[row][col] == 0) &amp;&amp; (szamlalo == 0))</span>
			{
<span class="nc" id="L278">				board[row][col] = 1;</span>
<span class="nc" id="L279">				sor=row;</span>
<span class="nc" id="L280">				oszlop=col;</span>
<span class="nc" id="L281">				szamlalo ++;</span>
<span class="nc" id="L282">				draw.repaint();</span>
			}
			
<span class="nc bnc" id="L285" title="All 16 branches missed.">			if ((board[row][col] == 0) &amp;&amp; (szamlalo == 1) &amp;&amp; ((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1)))))))</span>
			{
<span class="nc" id="L287">				board[row][col] = 1;</span>
<span class="nc" id="L288">				sor2=row;</span>
<span class="nc" id="L289">				oszlop2=col;</span>
<span class="nc" id="L290">				szamlalo ++;</span>
<span class="nc" id="L291">				draw.repaint();</span>
				
			}
			
<span class="nc bnc" id="L295" title="All 4 branches missed.">			if ((board[row][col] == 0) &amp;&amp; (szamlalo == 2) &amp;&amp; </span>
<span class="nc bnc" id="L296" title="All 12 branches missed.">					((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1))))) </span>
					||
<span class="nc bnc" id="L298" title="All 12 branches missed.">					(((row == sor2) &amp;&amp; ((col-oszlop2==1) || (col-oszlop2==-1))) || (((col==oszlop2) &amp;&amp; ((row-sor2==1) || (row-sor2==-1)))))))</span>
			{
<span class="nc" id="L300">				board[row][col] = 1;</span>
<span class="nc" id="L301">				sor3=row;</span>
<span class="nc" id="L302">				oszlop3=col;</span>
<span class="nc" id="L303">				szamlalo ++;</span>
<span class="nc" id="L304">				draw.repaint();</span>
			}
			
<span class="nc bnc" id="L307" title="All 4 branches missed.">			if ((board[row][col] == 0) &amp;&amp; (szamlalo == 3) &amp;&amp;</span>
<span class="nc bnc" id="L308" title="All 12 branches missed.">					((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1))))) </span>
					|| 
<span class="nc bnc" id="L310" title="All 12 branches missed.">					(((row == sor2) &amp;&amp; ((col-oszlop2==1) || (col-oszlop2==-1))) || (((col==oszlop2) &amp;&amp; ((row-sor2==1) || (row-sor2==-1)))))</span>
					||
<span class="nc bnc" id="L312" title="All 12 branches missed.">					(((row == sor3) &amp;&amp; ((col-oszlop3==1) || (col-oszlop3==-1))) || (((col==oszlop3) &amp;&amp; ((row-sor3==1) || (row-sor3==-1)))))))</span>
			{
<span class="nc" id="L314">				board[row][col] = 1;</span>
<span class="nc" id="L315">				szamlalo ++;</span>
<span class="nc" id="L316">				draw.repaint();				</span>
			}
			
<span class="nc bnc" id="L319" title="All 2 branches missed.">			if (fullBoard())</span>
<span class="nc" id="L320">			{jatekvege();}</span>
			
<span class="nc bnc" id="L322" title="All 4 branches missed.">			if (szamlalo &gt; 3 &amp;&amp; (!fullBoard()))</span>
				{
<span class="nc" id="L324">					xTurn = (-1);</span>
<span class="nc" id="L325">					message.setText(&quot;2. játékos lép - piros&quot;);</span>
<span class="nc" id="L326">					szamlalo = 0; sor=0; sor2=0; sor3=0; oszlop=0; oszlop2=0; oszlop3=0;</span>
				}
<span class="nc" id="L328">	}</span>
	
	/**
	 * Az első játékos egy körét kezeli.
	 * Véget ér, ha a maximális 4 lépést eléri vagy SPACE gombbal nem történik váltás.
	 * Körben minden lépés után vizsgáljuk, hogy a táblán van-e még kavics.
	 * Figyelünk arra, hogy egy körben csak a mellette lévő kavicsot lehet levenni.
	 * @param row A tábla mezői.
	 * @param col A tábla sorai.
	 */
	public void masodik (int row, int col) 
	{
<span class="nc bnc" id="L340" title="All 4 branches missed.">		if ((board[row][col] == 0) &amp;&amp; (szamlalo == 0))</span>
		{
<span class="nc" id="L342">			board[row][col] = 2;</span>
<span class="nc" id="L343">			sor=row;</span>
<span class="nc" id="L344">			oszlop=col;</span>
<span class="nc" id="L345">			szamlalo ++;</span>
<span class="nc" id="L346">			draw.repaint();</span>
		}
		
<span class="nc bnc" id="L349" title="All 16 branches missed.">		if ((board[row][col] == 0) &amp;&amp; (szamlalo == 1) &amp;&amp; ((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1)))))))</span>
		{
<span class="nc" id="L351">			board[row][col] = 2;</span>
<span class="nc" id="L352">			sor2=row;</span>
<span class="nc" id="L353">			oszlop2=col;</span>
<span class="nc" id="L354">			szamlalo ++;</span>
<span class="nc" id="L355">			draw.repaint();</span>
			
		}
		
<span class="nc bnc" id="L359" title="All 4 branches missed.">		if ((board[row][col] == 0) &amp;&amp; (szamlalo == 2) &amp;&amp; </span>
<span class="nc bnc" id="L360" title="All 12 branches missed.">				((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1))))) </span>
				||
<span class="nc bnc" id="L362" title="All 12 branches missed.">				(((row == sor2) &amp;&amp; ((col-oszlop2==1) || (col-oszlop2==-1))) || (((col==oszlop2) &amp;&amp; ((row-sor2==1) || (row-sor2==-1)))))))</span>
		{
<span class="nc" id="L364">			board[row][col] = 2;</span>
<span class="nc" id="L365">			sor3=row;</span>
<span class="nc" id="L366">			oszlop3=col;</span>
<span class="nc" id="L367">			szamlalo ++;</span>
<span class="nc" id="L368">			draw.repaint();</span>
		}
		
<span class="nc bnc" id="L371" title="All 4 branches missed.">		if ((board[row][col] == 0) &amp;&amp; (szamlalo == 3) &amp;&amp;</span>
<span class="nc bnc" id="L372" title="All 12 branches missed.">				((((row == sor) &amp;&amp; ((col-oszlop==1) || (col-oszlop==-1))) || (((col==oszlop) &amp;&amp; ((row-sor==1) || (row-sor==-1))))) </span>
				|| 
<span class="nc bnc" id="L374" title="All 12 branches missed.">				(((row == sor2) &amp;&amp; ((col-oszlop2==1) || (col-oszlop2==-1))) || (((col==oszlop2) &amp;&amp; ((row-sor2==1) || (row-sor2==-1)))))</span>
				||
<span class="nc bnc" id="L376" title="All 12 branches missed.">				(((row == sor3) &amp;&amp; ((col-oszlop3==1) || (col-oszlop3==-1))) || (((col==oszlop3) &amp;&amp; ((row-sor3==1) || (row-sor3==-1)))))))</span>
		{
<span class="nc" id="L378">			board[row][col] = 2;</span>
<span class="nc" id="L379">			szamlalo ++;</span>
<span class="nc" id="L380">			draw.repaint();	</span>
		}
		
<span class="nc bnc" id="L383" title="All 2 branches missed.">		if (fullBoard())</span>
<span class="nc" id="L384">			{jatekvege();}</span>
		
<span class="nc bnc" id="L386" title="All 4 branches missed.">		if (szamlalo &gt; 3 &amp;&amp; (!fullBoard()))</span>
			{
<span class="nc" id="L388">				xTurn = (1);</span>
<span class="nc" id="L389">				message.setText(&quot;1. játékos lép - zöld&quot;);</span>
<span class="nc" id="L390">				szamlalo = 0; sor=0; sor2=0; sor3=0; oszlop=0; oszlop2=0; oszlop3=0;</span>
			}
<span class="nc" id="L392">	}</span>

	/**
	 * Mezőt elválasztó vonalak kirajzolására szolgál.
	 * Kattintás megvizsgálása után a kavics képének megváltoztatása.
	 *
	 */
<span class="nc" id="L399">	class Drawing extends JComponent {</span>
		public void paint(Graphics g) {
<span class="nc" id="L401">			Graphics2D g2 = (Graphics2D) g;</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">			for (int row = 0; row &lt; 4; row++)</span>
<span class="nc bnc" id="L403" title="All 2 branches missed.">				for (int col = 0; col &lt; 4; col++) {</span>
<span class="nc" id="L404">					g.drawImage(boardPictures[board[row][col]].getImage(), col * 196, row * 132, 196, 132, this);</span>
				}
<span class="nc" id="L406">			g2.setStroke(new BasicStroke(10));</span>
<span class="nc" id="L407">			g.fillRect(196, 0, 5, 528);</span>
<span class="nc" id="L408">			g.fillRect(392, 0, 5, 528);</span>
<span class="nc" id="L409">			g.fillRect(588, 0, 5, 528);</span>

<span class="nc" id="L411">			g.fillRect(0, 132, 784, 5);</span>
<span class="nc" id="L412">			g.fillRect(0, 264, 784, 5);</span>
<span class="nc" id="L413">			g.fillRect(0, 396, 784, 5);</span>
<span class="nc" id="L414">	}</span>
	}
	
	/**
	 * Az egér kattintásának érzékelésére szolgál.
	 * A kör átadása a másik játékosnak.
	 */
	public void mouseReleased(MouseEvent e) 
	{
<span class="nc bnc" id="L423" title="All 2 branches missed.">		if (e.getButton() == MouseEvent.BUTTON1) </span>
		{
			/**
			 * A mezők sorainak érzékelése.
			 */
<span class="nc" id="L428">			int row = e.getY() / 142;</span>
			/**
			 * A mezők oszlopainak érzékelése.
			 */
<span class="nc" id="L432">			int col = e.getX() / 206;</span>
<span class="nc bnc" id="L433" title="All 2 branches missed.">			if (xTurn == (1))</span>
<span class="nc" id="L434">			elso(row, col);</span>
<span class="nc bnc" id="L435" title="All 2 branches missed.">			if (xTurn == (-1))</span>
<span class="nc" id="L436">			masodik(row, col);	</span>
		}		
<span class="nc" id="L438">	}</span>
	
	/**
	 * SPACE, valamint az ESC billentyűk kezelése.
	 */
	public void keyPressed(KeyEvent e) {
		/**
		 * Lenyomott billentyű eltárolására szolgál.
		 */
<span class="nc" id="L447">		int keyCode = e.getKeyCode();</span>
<span class="nc bnc" id="L448" title="All 4 branches missed.">		if ((keyCode == KeyEvent.VK_SPACE) &amp;&amp; (szamlalo &gt;= 1)) </span>
		{
<span class="nc" id="L450">			xTurn *= (-1);</span>
<span class="nc" id="L451">			szamlalo = 0; sor=0; sor2=0; sor3=0; oszlop=0; oszlop2=0; oszlop3=0;</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">			if (xTurn == (1))</span>
<span class="nc" id="L453">				message.setText(&quot;1. játékos lép - zöld&quot;);</span>
<span class="nc bnc" id="L454" title="All 2 branches missed.">			if (xTurn == (-1))</span>
<span class="nc" id="L455">				message.setText(&quot;2. játékos lép - piros&quot;);</span>
		}
<span class="nc bnc" id="L457" title="All 2 branches missed.">		if (keyCode == KeyEvent.VK_ESCAPE) </span>
		{
<span class="nc" id="L459">			datum();</span>
<span class="nc" id="L460">			nyertes =&quot;Játék félbeszakítva&quot;;</span>
<span class="nc" id="L461">			uzenet =&quot;Játék félbeszakítva.&quot;;</span>
<span class="nc" id="L462">			fajlkezeles();</span>
<span class="nc" id="L463">			JOptionPane.showMessageDialog(null, uzenet , &quot;Eredmény&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L464">			jatek.dispose();</span>
<span class="nc" id="L465">			new kezdokepernyo();</span>
		}
		
<span class="nc" id="L468">	}</span>
	
	public void keyReleased(KeyEvent e) {
<span class="nc" id="L471">    }</span>

	public void keyTyped(KeyEvent e) {
<span class="nc" id="L474">	}  </span>
	
	public void mouseClicked(MouseEvent e) {	
<span class="nc" id="L477">	}</span>

	public void mouseEntered(MouseEvent e) {		
<span class="nc" id="L480">	}</span>

	public void mouseExited(MouseEvent e) {
<span class="nc" id="L483">	}</span>

	public void mousePressed(MouseEvent e) {
<span class="nc" id="L486">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>